<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<dom-module id="hack-session-dialog">
  <template>
    <style>
      :host {
        display: flex;
      }
      paper-dialog {
        max-width:50%;
      }
      paper-dialog-scrollable {
        /*padding:0;*/
      }
      paper-fab {
        position:absolute;
        right:16px;
        bottom:calc(-56px/2);
        background:#fff;
        color:var(--app-secondary-color);
      }
      .dialog-banner {
        position:relative;
      }

    </style>
    <paper-dialog opened="[[opened]]">
      <paper-dialog-scrollable>
        <div>
          <div class="dialog-banner">
            <iron-image src="http://placehold.it/350x150"></iron-image>
            <paper-fab raised icon="add"></paper-fab>
          </div>
          <div>
            <h2>[[data.title]]</h2>
            <p>
              [[_computeSessionTimeString(data)]] / [[data.location]]
            </p>
            <div>
              [[data.description]]
            </div>
          </div>
        </div>
      </paper-dialog-scrollable>
    </paper-dialog>
  </template>
  <script>
    Polymer({
      is: 'hack-session-dialog',
      _computeSessionTimeString: function(data) {
        return `${moment.unix(1400000000).format("MMMM DD, hh:mmA")} - \
        ${moment.unix(data.timestamp).add(moment.duration(data.duration, 'minutes')).format("h:mmA")}`
      },
    });
  </script>
</dom-module>
